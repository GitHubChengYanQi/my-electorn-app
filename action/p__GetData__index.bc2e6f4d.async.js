"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[857],{5665:function(ge,L,s){s.r(L),s.d(L,{default:function(){return se}});var b=s(38416),c=s.n(b),z=s(42122),h=s.n(z),J=s(27424),S=s.n(J),a=s(67294),Y=s(3047),x=s(17917),U=s(75081),V=s(11169),W=s(34749),$=s(5328),Q=s(31955),X=s(9669),q=s.n(X),k="http://10.147.20.160",B=q().create({baseURL:k,withCredentials:!0,headers:{}});B.interceptors.request.use(function(o){var m=Q.Z.get("tianpeng-token");return o.headers.common.Authorization=m||"",o},function(o){return o}),B.interceptors.response.use(function(o){if(o.status!==200)throw new Error("\u7F51\u7EDC\u9519\u8BEF");o=o.data;var m=typeof o.errCode!="undefined"?parseInt(o.errCode,0):0;if(m!==0){if(m===1502)throw new Error(o.message);if(m===1001)return o;throw m!==200&&Y.ZP.error(o.message),new Error(o.message)}return o},function(o){throw new Error(o.message)});var j=function(){return{ajaxService:B}},Ee=null,_=j,ee=function(m,E){var f=_(),p=f.ajaxService,C=function(v){return v||{}},A=function(v){return typeof v.data=="undefined"||E&&E.response?v:v.data};return(0,$.ZP)(C,h()({requestMethod:function(v){return p(h()(h()({},m),v))},onError:function(v){console.log(v)},formatResult:A},E))},O=ee,ae=s(30381),M=s.n(ae),te=function(m){switch(m){case"\u5168\u8EAB\u9EBB\u9189":return 1;case"\u690E\u7BA1\u5185\u9EBB\u9189":return 2;case"\u5C40\u90E8\u9EBB\u9189":return 3;case"\u590D\u5408\u9EBB\u9189":return 4;case"\u5176\u4ED6\u9EBB\u9189\u65B9\u6CD5":return 9;case"\u5438\u5165\u9EBB\u9189":return 11;case"\u9759\u8109\u9EBB\u9189":return 12;case"\u57FA\u7840\u9EBB\u9189":return 12;case"\u86DB\u7F51\u819C\u4E0B\u8154\u963B\u6EDE\u9EBB\u9189":return 21;case"\u786C\u810A\u819C\u5916\u8154\u963B\u6EDE\u9EBB\u9189":return 22;case"\u795E\u7ECF\u4E1B\u963B\u6EDE\u9EBB\u9189":return 31;case"\u795E\u7ECF\u8282\u963B\u6EDE\u9EBB\u9189":return 32;case"\u795E\u7ECF\u963B\u6EDE\u9EBB\u9189":return 33;case"\u533A\u57DF\u963B\u6EDE\u9EBB\u9189":return 34;case"\u5C40\u90E8\u6D78\u6DA6\u9EBB\u9189":return 35;case"\u8868\u9762\u9EBB\u9189":return 36;case"\u9759\u5438\u590D\u5408\u5168\u9EBB":return 41;case"\u9488\u836F\u590D\u5408\u9EBB\u9189":return 42;case"\u795E\u7ECF\u4E1B\u4E0E\u786C\u819C\u5916\u963B\u6EDE\u590D\u5408\u9EBB\u9189":return 43;case"\u5168\u9EBB\u590D\u5408\u5168\u8EAB\u964D\u6E29":return 44;case"\u5168\u9EBB\u590D\u5408\u63A7\u5236\u6027\u964D\u538B":return 45;default:return null}},d={item:"item___huSYS",label:"label___KSFBf"},re={searchValue:"searchValue___ly2Nc"},ne=function(m){var E=m.label,f=E===void 0?"":E,p=m.searchValue,C=p===void 0?"":p,A=m.color;if(!C)return f||"-";var F=f,v="".concat(f),y=v.toLowerCase(),g=C.toLowerCase();if(y.indexOf(g)!==-1){var I=v.substring(0,y.indexOf(g)),K=v.substring(y.indexOf(g),y.indexOf(g)+g.length),P=v.substring(y.indexOf(g)+g.length,y.length);F=a.createElement(a.Fragment,null,I,a.createElement("span",{style:{color:A},className:re.searchValue},K),P)}return F},H=ne,oe={url:"/bzfy/inhospitalBase/list",method:"GET"},le={url:"/bzfy/inhospitalBase/detail",method:"GET"},ie=function(){var m=(0,a.useState)(""),E=S()(m,2),f=E[0],p=E[1],C=O(oe,{}),A=C.loading,F=C.data,v=C.run,y=function(n){var e=n||{},t=n.costGatherResult||{},ue={D43:t.totalCost,F44:t.generalTreatmentOperation,H44:t.nurse,K44:t.other,D45:t.pathologicDiagnosis,F45:t.laboratoryDiagnosis,H45:t.imagingDiagnosis,K45:t.clinicalDiagnosis,D46:t.nonOperativeTreatment,F46:t.clinicalPhysicalTherapy,H46:t.surgicalTreatment,J46:t.anesthesia,L46:t.operation,D47:t.rehabilitation,F47:t.TCMTreatment,H47:t.westernMedicine,J47:t.antimicrobialDrug,D48:t.chinesePatentDrug,F48:t.chineseHerbalMedicine,H48:t.blood,K48:t.protein,D49:t.globulin,F49:t.clottingFactor,H49:t.cytokine,L49:t.disposableInspection,D50:t.disposableTreatment,F50:t.disposableOperation,J50:t.other2},D=n.operationResult||{},ce={D37:D.departureMode,J37:D.hospitalMame,J38:D.townshipHospital,D39:D.rehospitalizationPlan,J39:D.rehospitalizationPurpose,D40:D.beforeDay,F40:D.beforeHour,H40:D.beforeMinute,D41:D.afterDay,F41:D.afterHour,H41:D.afterMinute},ve=n.operationDetailResult||[],T={};ve.forEach(function(r,i){if(!(i>6)){var u;T=h()(h()({},T),{},(u={},c()(u,"B".concat(30+i),r.operationCode),c()(u,"C".concat(30+i),M()(r.operationDate).format("YYYYMMDD")),c()(u,"D".concat(30+i),r.operationLevel),c()(u,"E".concat(30+i),r.operationName),c()(u,"F".concat(30+i),r.operator),c()(u,"G".concat(30+i),r.firstAssistant),c()(u,"H".concat(30+i),r.lastAssistant),c()(u,"I".concat(30+i),r.notchGrade),c()(u,"J".concat(30+i),r.IncisionHealingCategory),c()(u,"K".concat(30+i),te(r.anesthesiaType)),c()(u,"L".concat(30+i),r.anesthesiologist),u))}});var l=n.outHospitalResult||{},he={C20:l.externalCauses,H20:l.externalCausesDisease,C21:l.pathologicDiagnosis,G21:l.pathologicDiagnosisDisease,J21:l.pathologicalNo,C22:l.drugAllergy,G22:l.allergicDrugs,J22:l.autopsy,C23:l.bloodGroup,H23:l.rh,C24:l.chiefOfDepartment,F24:l.firstMate,H24:l.attendingPhysician,K24:l.residentPhysician,C25:l.chargeNurse,F25:l.refresherPhysician,H25:l.internPhysician,K25:l.coder,C26:l.medicalRecordQuality,F26:l.qualityControlPhysician,H26:l.qualityControlNurse,K26:M()(l.qualityControlDate).format("YYYYMMDD")},Z=n.outhospitalDetailResult||[],R=Z.find(function(r){return r.isMain===1})||{},me=Z.filter(function(r){return r.isMain!==1})||[],N={};me.forEach(function(r,i){if(!(i>14))if(i>6){var u;N=h()(h()({},N),{},(u={},c()(u,"G".concat(12+(i-7)),r.dischargeDiagnosis),c()(u,"H".concat(12+(i-7)),r.diseaseCode?r.diseaseCode.split(",").map(function(w){return w.split("x")[0]}).join(","):""),c()(u,"J".concat(12+(i-7)),r.admissionDiagnosis),u))}else{var G;N=h()(h()({},N),{},(G={},c()(G,"C".concat(13+i),r.dischargeDiagnosis),c()(G,"D".concat(13+i),r.diseaseCode.split(",").map(function(w){return w.split("x")[0]}).join(",")),c()(G,"E".concat(13+i),r.admissionDiagnosis),G))}});var de=h()({C12:R.dischargeDiagnosis,D12:R.diseaseCode?R.diseaseCode.split(",").map(function(r){return r.split("x")[0]}).join(","):"",E12:R.admissionDiagnosis},N),fe={I2:e.age,C3:e.ageMonth,I3:e.birthPlace,G2:M()(e.birthday).format("YYYYMMDD"),K6:e.contactAddress,C7:e.contactPhone,I6:e.contactRelationship,G6:e.contactsName,K4:e.currentAddress,E5:e.currentZipCode,G9:e.diagnose,E1:e.healthCard,G7:M()(e.hospitalizationDate).format("YYYYMMDD"),K7:e.hospitalizationDepartment,I7:e.hospitalizationHour,E9:e.hospitalizationLength,E7:e.hospitalizationMethod,C8:e.hospitalizationRoom,G1:e.hospitalizationsNumber,E4:e.idCard,G8:M()(e.leaveDate).format("YYYYMMDD"),K8:e.leaveDepartment,I8:e.leaveHour,C9:e.leaveRoom,I4:e.marriage,C1:e.medicalPayment.length>1?e.medicalPayment:"0"+e.medicalPayment,C2:e.name,C4:e.nation,K2:e.nationality==="501"?"CHN":"",K3:e.nativePlace,E3:e.newbornBirthWeight,G4:e.occupation,C5:e.phone,K5:e.placeOfWork,E6:e.placeOfWorkZipCode,G5:e.registeredAddress,I5:e.registeredZipCode,E2:e.sex,E8:e.transferDepartment,C6:e.workPhone},De=h()(h()(h()(h()(h()(h()({},ue),T),ce),he),de),fe);window.electronAPI&&window.electronAPI.LoadData(De),Y.ZP.success("\u6DFB\u52A0\u6210\u529F\uFF01")},g=O(le,{manual:!0,onSuccess:function(n){y(n)},onError:function(){Y.ZP.error("\u83B7\u53D6\u6570\u636E\u5931\u8D25!")}}),I=g.loading,K=g.run;return(0,a.useEffect)(function(){window.electronAPI&&window.electronAPI.queryList(function(P,n){var e=n.name;p(e),v({params:{keyword:e}})})},[]),a.createElement("div",null,a.createElement(x.Z.Search,{value:f,placeholder:"\u8BF7\u8F93\u5165\u75C5\u6848\u53F7",onChange:function(n){var e=n.target.value;p(e)},onSearch:function(n){p(n),v({params:{keyword:n}})}}),a.createElement("div",{style:{padding:"24px 0 24px 24px",maxHeight:"calc(100vh - 120px)",overflow:"auto",marginTop:16}},a.createElement(U.Z,{spinning:A||I,tip:A?"\u6B63\u5728\u5237\u65B0\u6570\u636E\uFF0C\u8BF7\u7A0D\u540E...":"\u6B63\u5728\u83B7\u53D6\u6570\u636E\u4FE1\u606F\uFF0C\u8BF7\u7A0D\u540E..."},a.createElement(V.ZP,{dataSource:F||[],renderItem:function(n){return a.createElement(V.ZP.Item,{actions:[a.createElement(W.ZP,{loading:I,type:"link",onClick:function(){K({params:{id:n.patientId}})}},"\u83B7\u53D6\u6570\u636E")]},a.createElement(V.ZP.Item.Meta,{description:a.createElement("div",{style:{color:"#000"}},a.createElement("div",{className:d.item},a.createElement("div",{className:d.label},"\u75C5\u6848\u53F7\uFF1A"),a.createElement("div",null,a.createElement(H,{searchValue:f,label:n.medicalRecordNumber}))),a.createElement("div",{className:d.item},a.createElement("div",{className:d.label},"\u75C5\u4EBAId\uFF1A"),a.createElement("div",null,a.createElement(H,{searchValue:f,label:n.patientId}))),a.createElement("div",{className:d.item},a.createElement("div",{className:d.label},"\u59D3\u540D\uFF1A"),a.createElement("div",null,a.createElement(H,{searchValue:f,label:n.name}))),a.createElement("div",{className:d.item},a.createElement("div",{className:d.label},"\u8EAB\u4EFD\u8BC1\u53F7\uFF1A"),a.createElement("div",null,a.createElement(H,{searchValue:f,label:n.idCard}))),a.createElement("div",{className:d.item},a.createElement("div",{className:d.label},"\u624B\u673A\u53F7\uFF1A"),a.createElement("div",null,a.createElement(H,{searchValue:f,label:n.phone}))),a.createElement("div",{className:d.item},a.createElement("div",{className:d.label},"\u8054\u7CFB\u4EBA\u624B\u673A\u53F7\uFF1A"),a.createElement("div",null,a.createElement(H,{searchValue:f,label:n.contactPhone}))),a.createElement("div",{className:d.item},a.createElement("div",{className:d.label},"\u5355\u4F4D\u7535\u8BDD\uFF1A"),a.createElement("div",null,a.createElement(H,{searchValue:f,label:n.workPhone}))))}))}}))))},se=ie}}]);
