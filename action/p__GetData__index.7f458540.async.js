"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[857],{5665:function(De,T,s){s.r(T),s.d(T,{default:function(){return ie}});var z=s(38416),c=s.n(z),J=s(42122),h=s.n(J),S=s(27424),w=s.n(S),a=s(67294),b=s(3047),x=s(17917),U=s(75081),I=s(11169),W=s(34749),$=s(5328),Q=s(31955),X=s(9669),q=s.n(X),k="http://10.147.20.160",Y=q().create({baseURL:k,withCredentials:!0,headers:{}});Y.interceptors.request.use(function(n){var m=Q.Z.get("tianpeng-token");return n.headers.common.Authorization=m||"",n},function(n){return n}),Y.interceptors.response.use(function(n){if(n.status!==200)throw new Error("\u7F51\u7EDC\u9519\u8BEF");n=n.data;var m=typeof n.errCode!="undefined"?parseInt(n.errCode,0):0;if(m!==0){if(m===1502)throw new Error(n.message);if(m===1001)return n;throw m!==200&&b.ZP.error(n.message),new Error(n.message)}return n},function(n){throw new Error(n.message)});var j=function(){return{ajaxService:Y}},ge=null,_=j,ee=function(m,E){var f=_(),H=f.ajaxService,C=function(d){return d||{}},P=function(d){return typeof d.data=="undefined"||E&&E.response?d:d.data};return(0,$.ZP)(C,h()({requestMethod:function(d){return H(h()(h()({},m),d))},onError:function(d){console.log(d)},formatResult:P},E))},O=ee,ae=s(30381),M=s.n(ae),te=function(m){switch(m){case"\u5168\u8EAB\u9EBB\u9189":return 1;case"\u690E\u7BA1\u5185\u9EBB\u9189":return 2;case"\u5C40\u90E8\u9EBB\u9189":return 3;case"\u590D\u5408\u9EBB\u9189":return 4;case"\u5176\u4ED6\u9EBB\u9189\u65B9\u6CD5":return 9;case"\u5438\u5165\u9EBB\u9189":return 11;case"\u9759\u8109\u9EBB\u9189":return 12;case"\u57FA\u7840\u9EBB\u9189":return 12;case"\u86DB\u7F51\u819C\u4E0B\u8154\u963B\u6EDE\u9EBB\u9189":return 21;case"\u786C\u810A\u819C\u5916\u8154\u963B\u6EDE\u9EBB\u9189":return 22;case"\u795E\u7ECF\u4E1B\u963B\u6EDE\u9EBB\u9189":return 31;case"\u795E\u7ECF\u8282\u963B\u6EDE\u9EBB\u9189":return 32;case"\u795E\u7ECF\u963B\u6EDE\u9EBB\u9189":return 33;case"\u533A\u57DF\u963B\u6EDE\u9EBB\u9189":return 34;case"\u5C40\u90E8\u6D78\u6DA6\u9EBB\u9189":return 35;case"\u8868\u9762\u9EBB\u9189":return 36;case"\u9759\u5438\u590D\u5408\u5168\u9EBB":return 41;case"\u9488\u836F\u590D\u5408\u9EBB\u9189":return 42;case"\u795E\u7ECF\u4E1B\u4E0E\u786C\u819C\u5916\u963B\u6EDE\u590D\u5408\u9EBB\u9189":return 43;case"\u5168\u9EBB\u590D\u5408\u5168\u8EAB\u964D\u6E29":return 44;case"\u5168\u9EBB\u590D\u5408\u63A7\u5236\u6027\u964D\u538B":return 45;default:return null}},v={item:"item___huSYS",label:"label___KSFBf"},re={searchValue:"searchValue___ly2Nc"},ne=function(m){var E=m.label,f=E===void 0?"":E,H=m.searchValue,C=H===void 0?"":H,P=m.color;if(!C)return f||"-";var F=f,d="".concat(f),p=d.toLowerCase(),g=C.toLowerCase();if(p.indexOf(g)!==-1){var V=d.substring(0,p.indexOf(g)),R=d.substring(p.indexOf(g),p.indexOf(g)+g.length),i=d.substring(p.indexOf(g)+g.length,p.length);F=a.createElement(a.Fragment,null,V,a.createElement("span",{style:{color:P},className:re.searchValue},R),i)}return F},y=ne,le={url:"/bzfy/inhospitalBase/list",method:"GET"},oe={url:"/bzfy/inhospitalBase/detail",method:"GET"},se=function(){var m=(0,a.useState)(""),E=w()(m,2),f=E[0],H=E[1],C=O(le,{}),P=C.loading,F=C.data,d=C.run,p=O(oe,{manual:!0,onSuccess:function(i){var e=i||{},t=i.costGatherResult||{},ue={D43:t.totalCost,F44:t.generalTreatmentOperation,H44:t.nurse,K44:t.other,D45:t.pathologicDiagnosis,F45:t.laboratoryDiagnosis,H45:t.imagingDiagnosis,K45:t.clinicalDiagnosis,D46:t.nonOperativeTreatment,F46:t.clinicalPhysicalTherapy,H46:t.surgicalTreatment,J46:t.anesthesia,L46:t.operation,D47:t.rehabilitation,F47:t.TCMTreatment,H47:t.westernMedicine,J47:t.antimicrobialDrug,D48:t.chinesePatentDrug,F48:t.chineseHerbalMedicine,H48:t.blood,K48:t.protein,D49:t.globulin,F49:t.clottingFactor,H49:t.cytokine,L49:t.disposableInspection,D50:t.disposableTreatment,F50:t.disposableOperation,J50:t.other2},D=i.operationResult||{},ce={D37:D.departureMode,J37:D.hospitalMame,J38:D.townshipHospital,D39:D.rehospitalizationPlan,J39:D.rehospitalizationPurpose,D40:D.beforeDay,F40:D.beforeHour,H40:D.beforeMinute,D41:D.afterDay,F41:D.afterHour,H41:D.afterMinute},he=i.operationDetailResult||[],B={};he.forEach(function(r,o){if(!(o>6)){var u;B=h()(h()({},B),{},(u={},c()(u,"B".concat(30+o),r.operationCode),c()(u,"C".concat(30+o),M()(r.operationDate).format("YYYYMMDD")),c()(u,"D".concat(30+o),r.operationLevel),c()(u,"E".concat(30+o),r.operationName),c()(u,"F".concat(30+o),r.operator),c()(u,"G".concat(30+o),r.firstAssistant),c()(u,"H".concat(30+o),r.lastAssistant),c()(u,"I".concat(30+o),r.notchGrade),c()(u,"J".concat(30+o),r.IncisionHealingCategory),c()(u,"K".concat(30+o),te(r.anesthesiaType)),c()(u,"L".concat(30+o),r.anesthesiologist),u))}});var l=i.outHospitalResult||{},me={C20:l.externalCauses,H20:l.externalCausesDisease,C21:l.pathologicDiagnosis,G21:l.pathologicDiagnosisDisease,J21:l.pathologicalNo,C22:l.drugAllergy,G22:l.allergicDrugs,J22:l.autopsy,C23:l.bloodGroup,H23:l.rh,C24:l.chiefOfDepartment,F24:l.firstMate,H24:l.attendingPhysician,K24:l.residentPhysician,C25:l.chargeNurse,F25:l.refresherPhysician,H25:l.internPhysician,K25:l.coder,C26:l.medicalRecordQuality,F26:l.qualityControlPhysician,H26:l.qualityControlNurse,K26:M()(l.qualityControlDate).format("YYYYMMDD")},L=i.outhospitalDetailResult||[],A=L.find(function(r){return r.isMain===1})||{},de=L.filter(function(r){return r.isMain!==1})||[],N={};de.forEach(function(r,o){if(!(o>14))if(o>6){var u;N=h()(h()({},N),{},(u={},c()(u,"G".concat(12+(o-7)),r.dischargeDiagnosis),c()(u,"H".concat(12+(o-7)),r.diseaseCode?r.diseaseCode.split(",").map(function(K){return K.split("x")[0]}).join(","):""),c()(u,"J".concat(12+(o-7)),r.admissionDiagnosis),u))}else{var G;N=h()(h()({},N),{},(G={},c()(G,"C".concat(13+o),r.dischargeDiagnosis),c()(G,"D".concat(13+o),r.diseaseCode.split(",").map(function(K){return K.split("x")[0]}).join(",")),c()(G,"E".concat(13+o),r.admissionDiagnosis),G))}});var ve=h()({C12:A.dischargeDiagnosis,D12:A.diseaseCode?A.diseaseCode.split(",").map(function(r){return r.split("x")[0]}).join(","):"",E12:A.admissionDiagnosis},N),fe={I2:e.age,C3:e.ageMonth,I3:e.birthPlace,G2:M()(e.birthday).format("YYYYMMDD"),K6:e.contactAddress,C7:e.contactPhone,I6:e.contactRelationship,G6:e.contactsName,K4:e.currentAddress,E5:e.currentZipCode,G9:e.diagnose,E1:e.healthCard,G7:M()(e.hospitalizationDate).format("YYYYMMDD"),K7:e.hospitalizationDepartment,I7:e.hospitalizationHour,E9:e.hospitalizationLength,E7:e.hospitalizationMethod,C8:e.hospitalizationRoom,G1:e.hospitalizationsNumber,E4:e.idCard,G8:M()(e.leaveDate).format("YYYYMMDD"),K8:e.leaveDepartment,I8:e.leaveHour,C9:e.leaveRoom,I4:e.marriage,C1:e.medicalPayment.length>1?e.medicalPayment:"0"+e.medicalPayment,I1:e.medicalRecordNumber,C2:e.name,C4:e.nation,K2:e.nationality==="501"?"CHN":"",K3:e.nativePlace,E3:e.newbornBirthWeight,G4:e.occupation,C5:e.phone,K5:e.placeOfWork,E6:e.placeOfWorkZipCode,G5:e.registeredAddress,I5:e.registeredZipCode,E2:e.sex,E8:e.transferDepartment,C6:e.workPhone},Z=h()(h()(h()(h()(h()(h()({},ue),B),ce),me),ve),fe);console.log(Z),window.electronAPI.LoadData(Z),b.ZP.success("\u6DFB\u52A0\u6210\u529F\uFF01")}}),g=p.loading,V=p.run;return a.createElement("div",null,a.createElement(x.Z.Search,{placeholder:"\u8BF7\u8F93\u5165\u75C5\u6848\u53F7",onSearch:function(i){H(i),d({params:{keyword:i}})}}),a.createElement("div",{style:{padding:"24px 0 24px 24px",maxHeight:"calc(100vh - 120px)",overflow:"auto",marginTop:16}},a.createElement(U.Z,{spinning:P||g,tip:P?"\u6B63\u5728\u5237\u65B0\u6570\u636E\uFF0C\u8BF7\u7A0D\u540E...":"\u6B63\u5728\u83B7\u53D6\u6570\u636E\u4FE1\u606F\uFF0C\u8BF7\u7A0D\u540E..."},a.createElement(I.ZP,{dataSource:F||[],renderItem:function(i){return a.createElement(I.ZP.Item,{actions:[a.createElement(W.ZP,{loading:g,type:"link",onClick:function(){V({params:{id:i.patientId}})}},"\u83B7\u53D6\u6570\u636E")]},a.createElement(I.ZP.Item.Meta,{description:a.createElement("div",{style:{color:"#000"}},a.createElement("div",{className:v.item},a.createElement("div",{className:v.label},"\u75C5\u6848\u53F7\uFF1A"),a.createElement("div",null,a.createElement(y,{searchValue:f,label:i.medicalRecordNumber}))),a.createElement("div",{className:v.item},a.createElement("div",{className:v.label},"\u75C5\u4EBAId\uFF1A"),a.createElement("div",null,a.createElement(y,{searchValue:f,label:i.patientId}))),a.createElement("div",{className:v.item},a.createElement("div",{className:v.label},"\u59D3\u540D\uFF1A"),a.createElement("div",null,a.createElement(y,{searchValue:f,label:i.name}))),a.createElement("div",{className:v.item},a.createElement("div",{className:v.label},"\u8EAB\u4EFD\u8BC1\u53F7\uFF1A"),a.createElement("div",null,a.createElement(y,{searchValue:f,label:i.idCard}))),a.createElement("div",{className:v.item},a.createElement("div",{className:v.label},"\u624B\u673A\u53F7\uFF1A"),a.createElement("div",null,a.createElement(y,{searchValue:f,label:i.phone}))),a.createElement("div",{className:v.item},a.createElement("div",{className:v.label},"\u8054\u7CFB\u4EBA\u624B\u673A\u53F7\uFF1A"),a.createElement("div",null,a.createElement(y,{searchValue:f,label:i.contactPhone}))),a.createElement("div",{className:v.item},a.createElement("div",{className:v.label},"\u5355\u4F4D\u7535\u8BDD\uFF1A"),a.createElement("div",null,a.createElement(y,{searchValue:f,label:i.workPhone}))))}))}}))))},ie=se}}]);
