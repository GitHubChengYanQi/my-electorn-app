"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[857],{5665:function(ge,w,s){s.r(w),s.d(w,{default:function(){return se}});var Z=s(38416),c=s.n(Z),z=s(42122),v=s.n(z),J=s(27424),S=s.n(J),a=s(67294),Y=s(3047),x=s(17917),U=s(75081),V=s(11169),W=s(34749),$=s(5328),Q=s(31955),X=s(9669),q=s.n(X),k="http://10.147.20.160",B=q().create({baseURL:k,withCredentials:!0,headers:{}});B.interceptors.request.use(function(l){var d=Q.Z.get("tianpeng-token");return l.headers.common.Authorization=d||"",l},function(l){return l}),B.interceptors.response.use(function(l){if(l.status!==200)throw new Error("\u7F51\u7EDC\u9519\u8BEF");l=l.data;var d=typeof l.errCode!="undefined"?parseInt(l.errCode,0):0;if(d!==0){if(d===1502)throw new Error(l.message);if(d===1001)return l;throw d!==200&&Y.ZP.error(l.message),new Error(l.message)}return l},function(l){throw new Error(l.message)});var j=function(){return{ajaxService:B}},Ee=null,_=j,ee=function(d,E){var f=_(),p=f.ajaxService,C=function(m){return m||{}},A=function(m){return typeof m.data=="undefined"||E&&E.response?m:m.data};return(0,$.ZP)(C,v()({requestMethod:function(m){return p(v()(v()({},d),m))},onError:function(m){console.log(m)},formatResult:A},E))},L=ee,ae=s(30381),N=s.n(ae),te=function(d){switch(d){case"\u5168\u8EAB\u9EBB\u9189":return 1;case"\u690E\u7BA1\u5185\u9EBB\u9189":return 2;case"\u5C40\u90E8\u9EBB\u9189":return 3;case"\u590D\u5408\u9EBB\u9189":return 4;case"\u5176\u4ED6\u9EBB\u9189\u65B9\u6CD5":return 9;case"\u5438\u5165\u9EBB\u9189":return 11;case"\u9759\u8109\u9EBB\u9189":return 12;case"\u57FA\u7840\u9EBB\u9189":return 12;case"\u86DB\u7F51\u819C\u4E0B\u8154\u963B\u6EDE\u9EBB\u9189":return 21;case"\u786C\u810A\u819C\u5916\u8154\u963B\u6EDE\u9EBB\u9189":return 22;case"\u795E\u7ECF\u4E1B\u963B\u6EDE\u9EBB\u9189":return 31;case"\u795E\u7ECF\u8282\u963B\u6EDE\u9EBB\u9189":return 32;case"\u795E\u7ECF\u963B\u6EDE\u9EBB\u9189":return 33;case"\u533A\u57DF\u963B\u6EDE\u9EBB\u9189":return 34;case"\u5C40\u90E8\u6D78\u6DA6\u9EBB\u9189":return 35;case"\u8868\u9762\u9EBB\u9189":return 36;case"\u9759\u5438\u590D\u5408\u5168\u9EBB":return 41;case"\u9488\u836F\u590D\u5408\u9EBB\u9189":return 42;case"\u795E\u7ECF\u4E1B\u4E0E\u786C\u819C\u5916\u963B\u6EDE\u590D\u5408\u9EBB\u9189":return 43;case"\u5168\u9EBB\u590D\u5408\u5168\u8EAB\u964D\u6E29":return 44;case"\u5168\u9EBB\u590D\u5408\u63A7\u5236\u6027\u964D\u538B":return 45;default:return null}},h={item:"item___huSYS",label:"label___KSFBf"},re={searchValue:"searchValue___ly2Nc"},ne=function(d){var E=d.label,f=E===void 0?"":E,p=d.searchValue,C=p===void 0?"":p,A=d.color;if(!C)return f||"-";var F=f,m="".concat(f),y=m.toLowerCase(),g=C.toLowerCase();if(y.indexOf(g)!==-1){var I=m.substring(0,y.indexOf(g)),K=m.substring(y.indexOf(g),y.indexOf(g)+g.length),P=m.substring(y.indexOf(g)+g.length,y.length);F=a.createElement(a.Fragment,null,I,a.createElement("span",{style:{color:A},className:re.searchValue},K),P)}return F},H=ne,le={url:"/bzfy/inhospitalBase/list",method:"GET"},oe={url:"/bzfy/inhospitalBase/detail",method:"GET"},ie=function(){var d=(0,a.useState)(""),E=S()(d,2),f=E[0],p=E[1],C=L(le,{}),A=C.loading,F=C.data,m=C.run,y=function(r){var e=r||{},t=r.costGatherResult||{},ue={D43:t.totalCost,F44:t.generalTreatmentOperation,H44:t.nurse,K44:t.other,D45:t.pathologicDiagnosis,F45:t.laboratoryDiagnosis,H45:t.imagingDiagnosis,K45:t.clinicalDiagnosis,D46:t.nonOperativeTreatment,F46:t.clinicalPhysicalTherapy,H46:t.surgicalTreatment,J46:t.anesthesia,L46:t.operation,D47:t.rehabilitation,F47:t.TCMTreatment,H47:t.westernMedicine,J47:t.antimicrobialDrug,D48:t.chinesePatentDrug,F48:t.chineseHerbalMedicine,H48:t.blood,K48:t.protein,D49:t.globulin,F49:t.clottingFactor,H49:t.cytokine,L49:t.disposableInspection,D50:t.disposableTreatment,F50:t.disposableOperation,J50:t.other2},D=r.operationResult||{},ce={D37:D.departureMode,J37:D.hospitalMame,J38:D.townshipHospital,D39:D.rehospitalizationPlan,J39:D.rehospitalizationPurpose,D40:D.beforeDay,F40:D.beforeHour,H40:D.beforeMinute,D41:D.afterDay,F41:D.afterHour,H41:D.afterMinute},me=r.operationDetailResult||[],T={};me.forEach(function(n,i){if(!(i>6)){var u;T=v()(v()({},T),{},(u={},c()(u,"B".concat(30+i),n.operationCode),c()(u,"C".concat(30+i),N()(n.operationDate).format("YYYYMMDD")),c()(u,"D".concat(30+i),n.operationLevel),c()(u,"E".concat(30+i),n.operationName),c()(u,"F".concat(30+i),n.operator),c()(u,"G".concat(30+i),n.firstAssistant),c()(u,"H".concat(30+i),n.lastAssistant),c()(u,"I".concat(30+i),n.notchGrade),c()(u,"J".concat(30+i),n.IncisionHealingCategory),c()(u,"K".concat(30+i),te(n.anesthesiaType)),c()(u,"L".concat(30+i),n.anesthesiologist),u))}});var o=r.outHospitalResult||{},ve={C20:o.externalCauses,H20:o.externalCausesDisease,C21:o.pathologicDiagnosis,G21:o.pathologicDiagnosisDisease,J21:o.pathologicalNo,C22:o.drugAllergy,G22:o.allergicDrugs,J22:o.autopsy,C23:o.bloodGroup,H23:o.rh,C24:o.chiefOfDepartment,F24:o.firstMate,H24:o.attendingPhysician,K24:o.residentPhysician,C25:o.chargeNurse,F25:o.refresherPhysician,H25:o.internPhysician,K25:o.coder,C26:o.medicalRecordQuality,F26:o.qualityControlPhysician,H26:o.qualityControlNurse,K26:N()(o.qualityControlDate).format("YYYYMMDD")},O=r.outhospitalDetailResult||[],R=O.find(function(n){return n.isMain===1})||{},he=O.filter(function(n){return n.isMain!==1})||[],M={};he.forEach(function(n,i){if(!(i>14))if(i>6){var u;M=v()(v()({},M),{},(u={},c()(u,"G".concat(12+(i-7)),n.dischargeDiagnosis),c()(u,"H".concat(12+(i-7)),n.diseaseCode?n.diseaseCode.split(",").map(function(b){return b.split("x")[0]}).join(","):""),c()(u,"J".concat(12+(i-7)),n.admissionDiagnosis),u))}else{var G;M=v()(v()({},M),{},(G={},c()(G,"C".concat(13+i),n.dischargeDiagnosis),c()(G,"D".concat(13+i),n.diseaseCode.split(",").map(function(b){return b.split("x")[0]}).join(",")),c()(G,"E".concat(13+i),n.admissionDiagnosis),G))}});var de=v()({C12:R.dischargeDiagnosis,D12:R.diseaseCode?R.diseaseCode.split(",").map(function(n){return n.split("x")[0]}).join(","):"",E12:R.admissionDiagnosis},M),fe={I2:e.age,C3:e.ageMonth,I3:e.birthPlace,G2:N()(e.birthday).format("YYYYMMDD"),K6:e.contactAddress,C7:e.contactPhone,I6:e.contactRelationship,G6:e.contactsName,K4:e.currentAddress,E5:e.currentZipCode,G9:e.diagnose,E1:e.healthCard,G7:N()(e.hospitalizationDate).format("YYYYMMDD"),K7:e.hospitalizationDepartment,I7:e.hospitalizationHour,E9:e.hospitalizationLength,E7:e.hospitalizationMethod,C8:e.hospitalizationRoom,G1:e.hospitalizationsNumber,E4:e.idCard,G8:N()(e.leaveDate).format("YYYYMMDD"),K8:e.leaveDepartment,I8:e.leaveHour,C9:e.leaveRoom,I4:e.marriage,C1:e.medicalPayment.length>1?e.medicalPayment:"0"+e.medicalPayment,C2:e.name,C4:e.nation,K2:e.nationality==="501"?"CHN":"",K3:e.nativePlace,E3:e.newbornBirthWeight,G4:e.occupation,C5:e.phone,K5:e.placeOfWork,E6:e.placeOfWorkZipCode,G5:e.registeredAddress,I5:e.registeredZipCode,E2:e.sex,E8:e.transferDepartment,C6:e.workPhone},De=v()(v()(v()(v()(v()(v()({},ue),T),ce),ve),de),fe);window.electronAPI&&window.electronAPI.LoadData(De),Y.ZP.success("\u6DFB\u52A0\u6210\u529F\uFF01")},g=L(oe,{manual:!0,onSuccess:function(r){y(r)},onError:function(){Y.ZP.error("\u83B7\u53D6\u6570\u636E\u5931\u8D25!")}}),I=g.loading,K=g.run;return(0,a.useEffect)(function(){window.electronAPI&&window.electronAPI.queryList(function(P,r){var e=r.name;p(e),m({params:{keyword:e}})})},[]),a.createElement("div",null,a.createElement(x.Z.Search,{value:f,placeholder:"\u8BF7\u8F93\u5165\u75C5\u6848\u53F7",onChange:function(r){var e=r.target.value;p(e)},onSearch:function(r){p(r),m({params:{keyword:r}})}}),a.createElement("div",{style:{padding:"24px 0 24px 24px",maxHeight:"calc(100vh - 120px)",overflow:"auto",marginTop:16}},a.createElement(U.Z,{spinning:A||I,tip:A?"\u6B63\u5728\u5237\u65B0\u6570\u636E\uFF0C\u8BF7\u7A0D\u540E...":"\u6B63\u5728\u83B7\u53D6\u6570\u636E\u4FE1\u606F\uFF0C\u8BF7\u7A0D\u540E..."},a.createElement(V.ZP,{dataSource:F||[],renderItem:function(r){return a.createElement(V.ZP.Item,{actions:[a.createElement(W.ZP,{loading:I,type:"link",onClick:function(){K({params:{id:r.patientId}})}},"\u83B7\u53D6\u6570\u636E")]},a.createElement(V.ZP.Item.Meta,{description:a.createElement("div",{style:{color:"#000"}},a.createElement("div",{className:h.item},a.createElement("div",{className:h.label},"\u75C5\u6848\u53F7\uFF1A"),a.createElement("div",null,a.createElement(H,{searchValue:f,label:r.medicalRecordNumber}))),a.createElement("div",{className:h.item},a.createElement("div",{className:h.label},"\u75C5\u4EBAId\uFF1A"),a.createElement("div",null,a.createElement(H,{searchValue:f,label:r.patientId}))),a.createElement("div",{className:h.item},a.createElement("div",{className:h.label},"\u59D3\u540D\uFF1A"),a.createElement("div",null,a.createElement(H,{searchValue:f,label:r.name}))),a.createElement("div",{className:h.item},a.createElement("div",{className:h.label},"\u8EAB\u4EFD\u8BC1\u53F7\uFF1A"),a.createElement("div",null,a.createElement(H,{searchValue:f,label:r.idCard}))),a.createElement("div",{className:h.item},a.createElement("div",{className:h.label},"\u624B\u673A\u53F7\uFF1A"),a.createElement("div",null,a.createElement(H,{searchValue:f,label:r.phone}))),a.createElement("div",{className:h.item},a.createElement("div",{className:h.label},"\u8054\u7CFB\u4EBA\u624B\u673A\u53F7\uFF1A"),a.createElement("div",null,a.createElement(H,{searchValue:f,label:r.contactPhone}))),a.createElement("div",{className:h.item},a.createElement("div",{className:h.label},"\u5355\u4F4D\u7535\u8BDD\uFF1A"),a.createElement("div",null,a.createElement(H,{searchValue:f,label:r.workPhone}))),a.createElement("div",{className:h.item},a.createElement("div",{className:h.label},"\u5165\u9662\u65F6\u95F4\uFF1A"),a.createElement("div",null,r.hospitalizationDate)))}))}}))))},se=ie}}]);
