"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[857],{5665:function(ye,z,n){n.r(z),n.d(z,{default:function(){return fe}});var W=n(17061),Y=n.n(W),Q=n(17156),b=n.n(Q),x=n(38416),c=n.n(x),X=n(42122),d=n.n(X),k=n(27424),q=n.n(k),a=n(67294),J=n(3047),j=n(17917),_=n(75081),K=n(11169),w=n(34749),ee=n(5328),ae=n(31955),te=n(9669),re=n.n(te),ne="http://10.147.20.160",O=re().create({baseURL:ne,withCredentials:!0,headers:{}});O.interceptors.request.use(function(l){var m=ae.Z.get("tianpeng-token");return l.headers.common.Authorization=m||"",l},function(l){return l}),O.interceptors.response.use(function(l){if(l.status!==200)throw new Error("\u7F51\u7EDC\u9519\u8BEF");l=l.data;var m=typeof l.errCode!="undefined"?parseInt(l.errCode,0):0;if(m!==0){if(m===1502)throw new Error(l.message);if(m===1001)return l;throw m!==200&&J.ZP.error(l.message),new Error(l.message)}return l},function(l){throw new Error(l.message)});var le=function(){return{ajaxService:O}},Pe=null,se=le,ie=function(m,p){var f=se(),H=f.ajaxService,F=function(v){return v||{}},G=function(v){return typeof v.data=="undefined"||p&&p.response?v:v.data};return(0,ee.ZP)(F,d()({requestMethod:function(v){return H(d()(d()({},m),v))},onError:function(v){console.log(v)},formatResult:G},p))},S=ie,oe=n(30381),M=n.n(oe),ue=function(m){switch(m){case"\u5168\u8EAB\u9EBB\u9189":return 1;case"\u690E\u7BA1\u5185\u9EBB\u9189":return 2;case"\u5C40\u90E8\u9EBB\u9189":return 3;case"\u590D\u5408\u9EBB\u9189":return 4;case"\u5176\u4ED6\u9EBB\u9189\u65B9\u6CD5":return 9;case"\u5438\u5165\u9EBB\u9189":return 11;case"\u9759\u8109\u9EBB\u9189":return 12;case"\u57FA\u7840\u9EBB\u9189":return 12;case"\u86DB\u7F51\u819C\u4E0B\u8154\u963B\u6EDE\u9EBB\u9189":return 21;case"\u786C\u810A\u819C\u5916\u8154\u963B\u6EDE\u9EBB\u9189":return 22;case"\u795E\u7ECF\u4E1B\u963B\u6EDE\u9EBB\u9189":return 31;case"\u795E\u7ECF\u8282\u963B\u6EDE\u9EBB\u9189":return 32;case"\u795E\u7ECF\u963B\u6EDE\u9EBB\u9189":return 33;case"\u533A\u57DF\u963B\u6EDE\u9EBB\u9189":return 34;case"\u5C40\u90E8\u6D78\u6DA6\u9EBB\u9189":return 35;case"\u8868\u9762\u9EBB\u9189":return 36;case"\u9759\u5438\u590D\u5408\u5168\u9EBB":return 41;case"\u9488\u836F\u590D\u5408\u9EBB\u9189":return 42;case"\u795E\u7ECF\u4E1B\u4E0E\u786C\u819C\u5916\u963B\u6EDE\u590D\u5408\u9EBB\u9189":return 43;case"\u5168\u9EBB\u590D\u5408\u5168\u8EAB\u964D\u6E29":return 44;case"\u5168\u9EBB\u590D\u5408\u63A7\u5236\u6027\u964D\u538B":return 45;default:return null}},h={item:"item___huSYS",label:"label___KSFBf"},ce={searchValue:"searchValue___ly2Nc"},de=function(m){var p=m.label,f=p===void 0?"":p,H=m.searchValue,F=H===void 0?"":H,G=m.color;if(!F)return f||"-";var y=f,v="".concat(f),C=v.toLowerCase(),E=F.toLowerCase();if(C.indexOf(E)!==-1){var N=v.substring(0,C.indexOf(E)),V=v.substring(C.indexOf(E),C.indexOf(E)+E.length),T=v.substring(C.indexOf(E)+E.length,C.length);y=a.createElement(a.Fragment,null,N,a.createElement("span",{style:{color:G},className:ce.searchValue},V),T)}return y},P=de,me={url:"/bzfy/inhospitalBase/list",method:"GET"},ve={url:"/bzfy/inhospitalBase/detail",method:"GET"},he=function(){var m=(0,a.useState)(""),p=q()(m,2),f=p[0],H=p[1],F=S(me,{}),G=F.loading,y=F.data,v=F.run,C=function(o,R){var e=o||{},t=o.costGatherResult||{},D={D43:t.totalCost,F44:t.generalTreatmentOperation,H44:t.nurse,K44:t.other,D45:t.pathologicDiagnosis,F45:t.laboratoryDiagnosis,H45:t.imagingDiagnosis,K45:t.clinicalDiagnosis,D46:t.nonOperativeTreatment,F46:t.clinicalPhysicalTherapy,H46:t.surgicalTreatment,J46:t.anesthesia,L46:t.operation,D47:t.rehabilitation,F47:t.TCMTreatment,H47:t.westernMedicine,J47:t.antimicrobialDrug,D48:t.chinesePatentDrug,F48:t.chineseHerbalMedicine,H48:t.blood,K48:t.protein,D49:t.globulin,F49:t.clottingFactor,H49:t.cytokine,L49:t.disposableInspection,D50:t.disposableTreatment,F50:t.disposableOperation,J50:t.other2},g=o.operationResult||{},De={D37:g.departureMode,J37:g.hospitalMame,J38:g.townshipHospital,D39:g.rehospitalizationPlan,J39:g.rehospitalizationPurpose,D40:g.beforeDay,F40:g.beforeHour,H40:g.beforeMinute,D41:g.afterDay,F41:g.afterHour,H41:g.afterMinute},ge=o.operationDetailResult||[],Z={};ge.forEach(function(r,i){if(!(i>6)){var u;Z=d()(d()({},Z),{},(u={},c()(u,"B".concat(30+i),r.operationCode),c()(u,"C".concat(30+i),M()(r.operationDate).format("YYYYMMDD")),c()(u,"D".concat(30+i),r.operationLevel),c()(u,"E".concat(30+i),r.operationName),c()(u,"F".concat(30+i),r.operator),c()(u,"G".concat(30+i),r.firstAssistant),c()(u,"H".concat(30+i),r.lastAssistant),c()(u,"I".concat(30+i),r.notchGrade),c()(u,"J".concat(30+i),r.IncisionHealingCategory),c()(u,"K".concat(30+i),ue(r.anesthesiaType)),c()(u,"L".concat(30+i),r.anesthesiologist),u))}});var s=o.outHospitalResult||{},Ee={C20:s.externalCauses,H20:s.externalCausesDisease,C21:s.pathologicDiagnosis,G21:s.pathologicDiagnosisDisease,J21:s.pathologicalNo,C22:s.drugAllergy,G22:s.allergicDrugs,J22:s.autopsy,C23:s.bloodGroup,H23:s.rh,C24:s.chiefOfDepartment,F24:s.firstMate,H24:s.attendingPhysician,K24:s.residentPhysician,C25:s.chargeNurse,F25:s.refresherPhysician,H25:s.internPhysician,K25:s.coder,C26:s.medicalRecordQuality,F26:s.qualityControlPhysician,H26:s.qualityControlNurse,K26:M()(s.qualityControlDate).format("YYYYMMDD")},U=o.outhospitalDetailResult||[],B=U.find(function(r){return r.isMain===1})||{},pe=U.filter(function(r){return r.isMain!==1})||[],A={};pe.forEach(function(r,i){if(!(i>14))if(i>6){var u;A=d()(d()({},A),{},(u={},c()(u,"G".concat(12+(i-7)),r.dischargeDiagnosis),c()(u,"H".concat(12+(i-7)),r.diseaseCode?r.diseaseCode.split(",").map(function(L){return L.split("x")[0]}).join(","):""),c()(u,"J".concat(12+(i-7)),r.admissionDiagnosis),u))}else{var I;A=d()(d()({},A),{},(I={},c()(I,"C".concat(13+i),r.dischargeDiagnosis),c()(I,"D".concat(13+i),r.diseaseCode.split(",").map(function(L){return L.split("x")[0]}).join(",")),c()(I,"E".concat(13+i),r.admissionDiagnosis),I))}});var Ce=d()({C12:B.dischargeDiagnosis,D12:B.diseaseCode?B.diseaseCode.split(",").map(function(r){return r.split("x")[0]}).join(","):"",E12:B.admissionDiagnosis},A),Fe={I2:e.age,C3:e.ageMonth,I3:e.birthPlace,G2:M()(e.birthday).format("YYYYMMDD"),K6:e.contactAddress,C7:e.contactPhone,I6:e.contactRelationship,G6:e.contactsName,K4:e.currentAddress,E5:e.currentZipCode,G9:e.diagnose,E1:e.healthCard,G7:M()(e.hospitalizationDate).format("YYYYMMDD"),K7:e.hospitalizationDepartment,I7:e.hospitalizationHour,E9:e.hospitalizationLength,E7:e.hospitalizationMethod,C8:e.hospitalizationRoom,G1:e.hospitalizationsNumber,E4:e.idCard,G8:M()(e.leaveDate).format("YYYYMMDD"),K8:e.leaveDepartment,I8:e.leaveHour,C9:e.leaveRoom,I4:e.marriage,C1:e.medicalPayment.length>1?e.medicalPayment:"0"+e.medicalPayment,I1:e.medicalRecordNumber,C2:e.name,C4:e.nation,K2:e.nationality==="501"?"CHN":"",K3:e.nativePlace,E3:e.newbornBirthWeight,G4:e.occupation,C5:e.phone,K5:e.placeOfWork,E6:e.placeOfWorkZipCode,G5:e.registeredAddress,I5:e.registeredZipCode,E2:e.sex,E8:e.transferDepartment,C6:e.workPhone},$=d()(d()(d()(d()(d()(d()({},D),Z),De),Ee),Ce),Fe);console.log($),window.electronAPI.LoadData({data:$,add:R}),J.ZP.success("\u6DFB\u52A0\u6210\u529F\uFF01")},E=S(ve,{manual:!0}),N=E.loading,V=E.run;return a.createElement("div",null,a.createElement(j.Z.Search,{placeholder:"\u8BF7\u8F93\u5165\u75C5\u6848\u53F7",onSearch:function(o){H(o),v({params:{keyword:o}})}}),a.createElement("div",{style:{padding:"24px 0 24px 24px",maxHeight:"calc(100vh - 120px)",overflow:"auto",marginTop:16}},a.createElement(_.Z,{spinning:G||N,tip:G?"\u6B63\u5728\u5237\u65B0\u6570\u636E\uFF0C\u8BF7\u7A0D\u540E...":"\u6B63\u5728\u83B7\u53D6\u6570\u636E\u4FE1\u606F\uFF0C\u8BF7\u7A0D\u540E..."},a.createElement(K.ZP,{dataSource:y||[],renderItem:function(o){return a.createElement(K.ZP.Item,{actions:[a.createElement(w.ZP,{loading:N,type:"link",onClick:b()(Y()().mark(function R(){var e;return Y()().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:return D.next=2,V({params:{id:o.patientId}});case 2:e=D.sent,C(e);case 4:case"end":return D.stop()}},R)}))},"\u83B7\u53D6\u6570\u636E"),a.createElement(w.ZP,{loading:N,type:"link",onClick:b()(Y()().mark(function R(){var e;return Y()().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:return D.next=2,V({params:{id:o.patientId}});case 2:e=D.sent,C(e,!0);case 4:case"end":return D.stop()}},R)}))},"\u589E\u52A0\u6570\u636E")]},a.createElement(K.ZP.Item.Meta,{description:a.createElement("div",{style:{color:"#000"}},a.createElement("div",{className:h.item},a.createElement("div",{className:h.label},"\u75C5\u6848\u53F7\uFF1A"),a.createElement("div",null,a.createElement(P,{searchValue:f,label:o.medicalRecordNumber}))),a.createElement("div",{className:h.item},a.createElement("div",{className:h.label},"\u75C5\u4EBAId\uFF1A"),a.createElement("div",null,a.createElement(P,{searchValue:f,label:o.patientId}))),a.createElement("div",{className:h.item},a.createElement("div",{className:h.label},"\u59D3\u540D\uFF1A"),a.createElement("div",null,a.createElement(P,{searchValue:f,label:o.name}))),a.createElement("div",{className:h.item},a.createElement("div",{className:h.label},"\u8EAB\u4EFD\u8BC1\u53F7\uFF1A"),a.createElement("div",null,a.createElement(P,{searchValue:f,label:o.idCard}))),a.createElement("div",{className:h.item},a.createElement("div",{className:h.label},"\u624B\u673A\u53F7\uFF1A"),a.createElement("div",null,a.createElement(P,{searchValue:f,label:o.phone}))),a.createElement("div",{className:h.item},a.createElement("div",{className:h.label},"\u8054\u7CFB\u4EBA\u624B\u673A\u53F7\uFF1A"),a.createElement("div",null,a.createElement(P,{searchValue:f,label:o.contactPhone}))),a.createElement("div",{className:h.item},a.createElement("div",{className:h.label},"\u5355\u4F4D\u7535\u8BDD\uFF1A"),a.createElement("div",null,a.createElement(P,{searchValue:f,label:o.workPhone}))))}))}}))))},fe=he}}]);
